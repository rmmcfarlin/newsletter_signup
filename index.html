<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Manrope:wght@200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>
</head>
<body>
<!-- Sign-up form start -->
  <main id="signupForm">
    <img src="./assets/images/illustration-sign-up-mobile.svg" alt="graphic showing metrics and performance icons" id="headermobile">
    <div id="copy">
      <h2>Stay updated!</h2>
      <p>Join 60,000+ product managers receiving monthly updates on:</p>
      <ul>
        <li>Product discovery and building what matters</li>
        <li>Measuring to ensure updates are a success</li>
        <li>And much more!</li>
      </ul>
      <form>
        <label for="email">Email Address</label>   
        <input type="email" required id="email" name="email" placeholder="email@company.com" style="width:min(82.7vw, 376px); height:56px; border:1px solid grey; border-radius: 8px; padding-left:1.5rem">
        <input type="submit" value="Subscribe to Monthly Newsletter" id="submitButton">
      </form>
    </div>    
    <img src="./assets/images/illustration-sign-up-desktop.svg" alt="graphic showing metrics and performance icons" id="headerdesktop">
  </main>
<!-- Sign-up form end -->
<!-- Success message start -->
<div id="successmessage">
  <img src="./assets/images/icon-success.svg" alt="success icon">
  <h2>Thanks for subscribing!</h2>
  <p>A confirmation email has been sent to <span id="confirmEmail" style="font-weight: bold;"></span> 
    Please open it and click the button inside to confirm your subscription.</p>
    <button onclick="toggleSuccess()">Dismiss message</button>
</div> 
 <!-- Success message end -->
</body>
<script>
  const successMessage = document.getElementById("successmessage")
  const signupForm = document.getElementById("signupForm")
  const submitButton = document.getElementById("submitButton")
  const emailField = document.getElementById("email")
  const confirmEmail = document.getElementById("confirmEmail")
  var userEmail;

  

  function handleSubmit(event) {
    event.preventDefault()
    console.log("default prevented")
  }

  function toggleSuccess () {
    successMessage.classList.toggle("visible");
    signupForm.classList.toggle("hidden");
    console.log(userEmail);
    console.log("Submission Successful!");
  }

  function getEmail () {
        userEmail = emailField.value; 
        confirmEmail.textContent = userEmail + ".";
        emailField.value = "";
        console.log(userEmail);
      }


  signupForm.addEventListener("submit", handleSubmit)
  signupForm.addEventListener("submit", toggleSuccess)
  signupForm.addEventListener("submit", getEmail)
</script>
</html>